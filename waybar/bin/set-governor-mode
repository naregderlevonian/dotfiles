#!/bin/sh

MASK=/sys/devices/system/cpu/cpu*/cpufreq/scaling_governor
CURRENT_GOVERNOR=/sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
CURRENT_GOVERNOR_VALUE=$(cat $CURRENT_GOVERNOR)

set_governor() {
    notify-send "Governor Mode" "$2"
    for FILE in $MASK; do
        echo $1 | sudo tee "$FILE"  
    done
}

if [ $CURRENT_GOVERNOR_VALUE = "powersave" ]; then
    set_governor "performance" "Performance" 
else 
    set_governor "powersave" "Powersave"
fi

